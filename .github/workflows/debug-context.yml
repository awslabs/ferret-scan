name: Debug GitHub Context

on:
  push:
    tags: ["v*"]

jobs:
  debug-direct:
    runs-on: ubuntu-latest
    steps:
      - name: Debug direct job context
        run: |
          echo "=== DIRECT JOB CONTEXT ==="
          echo "github.ref: ${{ github.ref }}"
          echo "github.ref_name: ${{ github.ref_name }}"
          echo "github.event_name: ${{ github.event_name }}"
          echo "startsWith result: ${{ startsWith(github.ref, 'refs/tags/') }}"

  debug-workflow-call:
    uses: ./.github/workflows/debug-called.yml
    with:
      test_input: "test"
